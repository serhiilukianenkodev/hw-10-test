{"mappings":"YAkBO,SAASA,EAAYC,GAC1B,OAAOC,MAAM,uCAA0CC,OAAHF,IAAMG,MAAK,SAAAC,GAC7D,IAAKA,EAAIC,GAAI,MAAM,IAAIC,MAAMF,EAAIG,YACjC,OAAOH,EAAII,M,IChBf,IAAMC,EAAcC,SAASC,cAAc,aDHlCV,MAAM,GAAYC,OADR,wCACWC,MAAK,SAAAC,GAC/B,IAAKA,EAAIC,GAAI,MAAM,IAAIC,MAAMF,EAAIG,YACjC,OAAOH,EAAII,M,ICEDL,MAKd,SAAoBS,GAClB,IAAMC,EAAeD,EAClBE,KAAI,SAAAC,G,IAAGf,EAAEe,EAAFf,GAAIgB,EAAID,EAAJC,K,MAAW,kBAAyBd,OAAPF,EAAG,MAASE,OAALc,EAAK,Y,IACpDC,KAAK,IAERC,EAASC,UAAYN,C,IAVQO,MAAMC,QAAQC,KAE7C,IAAMJ,EAAWR,SAASC,cAAc,iBACxCO,EAASK,iBAAiB,SAU1B,SAAkBC,IDVcxB,ECWbwB,EAAIC,OAAOC,MDVrBzB,MACL,wDAA2DC,OAAHF,EAAG,mFAC3DG,MAAK,SAAAC,GACL,IAAKA,EAAIC,GAAI,MAAM,IAAIC,MAAMF,EAAIG,YACjC,OAAOH,EAAII,M,KCSVL,MAAK,SAAAwB,G,OAKV,SAAmBA,GACjBN,QAAQC,IAAIK,GACZ,IAAMX,EAAOW,EAAMX,KACbY,EAAcD,EAAMC,YACpBC,EAAOF,EAAMG,YAEnB/B,EAAY4B,EAAMI,oBACf5B,MAAK,SAAAC,GACJ,IAAM4B,EAAS,wBACiB9B,OAAjBE,EAAI6B,IAAI,WACjB/B,OAD0Bc,EAAK,8BAEhCd,OADCc,EAAK,oBAENd,OADA0B,EAAY,mBACP1B,OAAL2B,EAAK,QAEVpB,EAAYU,UAAYa,C,IAEzBZ,MAAMC,QAAQC,I,CArBAY,CAAUP,EAAM,GAAGf,OAAO,G,IACxCQ,MAAMC,QAAQC,KDfZ,IAAyBtB,C","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["export function fetchBreeds() {\n  const BASE_URL = 'https://api.thecatapi.com/v1/breeds';\n  return fetch(`${BASE_URL}`).then(res => {\n    if (!res.ok) throw new Error(res.statusText);\n    return res.json();\n  });\n}\n\n// https://api.thecatapi.com/v1/images/search?breed_ids=идентификатор_породы\nexport function fetchCatByBreed(id) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${id}&api_key=live_6LtOq60s5fIHrbRM9r9IrxeJXsqT0vsnfIjhAkCuuyVXXChXSV2blRkKHS5PpFki`\n  ).then(res => {\n    if (!res.ok) throw new Error(res.statusText);\n    return res.json();\n  });\n}\n\nexport function fetchCatImg(id) {\n  return fetch(`https://api.thecatapi.com/v1/images/${id}`).then(res => {\n    if (!res.ok) throw new Error(res.statusText);\n    return res.json();\n  });\n}\n","import { fetchBreeds, fetchCatByBreed, fetchCatImg } from './cat-api';\n// 'x-api-key'\n// 'live_6LtOq60s5fIHrbRM9r9IrxeJXsqT0vsnfIjhAkCuuyVXXChXSV2blRkKHS5PpFki'\n// 'api_key=live_6LtOq60s5fIHrbRM9r9IrxeJXsqT0vsnfIjhAkCuuyVXXChXSV2blRkKHS5PpFki'\n\nconst breedInfoEl = document.querySelector('.cat-info');\nfetchBreeds().then(showBreeds).catch(console.log);\n\nconst selectEl = document.querySelector('.breed-select');\nselectEl.addEventListener('input', onSelect);\n\nfunction showBreeds(breeds) {\n  const selectMarkup = breeds\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n\n  selectEl.innerHTML = selectMarkup;\n}\n\nfunction onSelect(evt) {\n  const searchId = evt.target.value;\n\n  fetchCatByBreed(searchId)\n    .then(breed => showBreed(breed[0].breeds[0]))\n    .catch(console.log);\n}\n\n// появляется изображение и развернутая информация о коте: название породы, описание и темперамент.\nfunction showBreed(breed) {\n  console.log(breed);\n  const name = breed.name;\n  const temperament = breed.temperament;\n  const desc = breed.description;\n\n  fetchCatImg(breed.reference_image_id)\n    .then(res => {\n      const markup = `\n         <img src=\"${res.url}\" alt=\"${name} \"width=\"400\">\n      <h2>${name}</h2>\n      <p>${temperament}</p>\n      <p>${desc}</p>`;\n\n      breedInfoEl.innerHTML = markup;\n    })\n    .catch(console.log);\n}\n"],"names":["$ae0c329fb0fb36dc$export$5dd63e6d922d20f0","id","fetch","concat","then","res","ok","Error","statusText","json","$b8f9b7833fa37166$var$breedInfoEl","document","querySelector","breeds","selectMarkup","map","param","name","join","$b8f9b7833fa37166$var$selectEl","innerHTML","catch","console","log","addEventListener","evt","target","value","breed","temperament","desc","description","reference_image_id","markup","url","$b8f9b7833fa37166$var$showBreed"],"version":3,"file":"index.feaa7125.js.map"}